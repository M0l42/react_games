(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{13:function(t,e,a){},14:function(t,e,a){},16:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),s=(a(13),a(1)),i=a(2),c=a(4),u=a(3),p=a(5),d=(a(14),a(15),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).selectBox=function(){a.props.selectBox(a.props.row,a.props.col)},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.boxClass,id:this.props.id,onClick:this.selectBox})}}]),e}(r.a.Component)),h=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){for(var t=14*this.props.cols,e=[],a="",n=0;n<this.props.rows;n++)for(var o=0;o<this.props.cols;o++){var l=n+"_"+o;a=1==this.props.gridFull[n][o]?"box snake":2==this.props.gridFull[n][o]?"box apple":"box off",e.push(r.a.createElement(d,{boxClass:a,key:l,boxId:l,row:n,col:o,selectBox:this.props.selectBox}))}return r.a.createElement("div",{className:"grid",style:{width:t}},e)}}]),e}(r.a.Component);function f(t){return JSON.parse(JSON.stringify(t))}var m=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(u.a)(e).call(this))).buildList=function(e){t.state.list=[],t.setState({list:e.path,error:e.result}),"success"==t.state.error&&(t.direction=t.state.list[t.state.list.length-1],t.state.list.pop())},t.findPath=function(){var e={snake:t.snake,apple:t.apple,algorithm:t.algorithm};fetch("/update/",{method:"POST",body:JSON.stringify(e)}).then((function(t){return t.json()})).then(t.buildList).catch()},t.selectBox=function(e,a){var n=f(t.state.gridFull);n[e][a]=!n[e][a],t.setState({gridFull:n})},t.playButton=function(){clearInterval(t.intervalId),t.intervalId=setInterval(t.play,t.speed)},t.pauseButton=function(){clearInterval(t.intervalId)},t.clearButton=function(){var e=Array(t.rows).fill().map((function(){return Array(t.cols).fill(0)}));t.setState({gridFull:e,generation:0,list:[],error:null}),t.snake=[{x:15,y:15}],t.apple={x:Math.floor(Math.random()*Math.floor(t.cols)),y:Math.floor(Math.random()*Math.floor(t.rows))},t.findPath()},t.dijkstraButton=function(){t.algorithm="dijkstra"},t.aStarButton=function(){t.algorithm="a_star"},t.play=function(){if("success"==t.state.error){t.state.gridFull;var e=f(t.state.gridFull);e[t.apple.x][t.apple.y]=2;var a=t.snake[t.snake.length-1];if(e[a.x][a.y]=1,3==t.direction&&(t.newHead_y=a.y-1,t.newHead_x=a.x),2==t.direction&&(t.newHead_y=a.y+1,t.newHead_x=a.x),1==t.direction&&(t.newHead_x=a.x+1,t.newHead_y=a.y),0==t.direction&&(t.newHead_x=a.x-1,t.newHead_y=a.y),e[t.newHead_x][t.newHead_y]=1,t.snake.push({x:t.newHead_x,y:t.newHead_y}),t.newHead_x!=t.apple.x||t.newHead_y!=t.apple.y){var n=t.snake[0];e[n.x][n.y]=0,t.snake.shift(),t.direction=t.state.list[t.state.list.length-1],1!=t.state.list.length&&t.state.list.pop()}else{for(var r=!0;r;)t.apple.x=Math.floor(Math.random()*Math.floor(t.cols)),t.apple.y=Math.floor(Math.random()*Math.floor(t.rows)),0==e[t.apple.x][t.apple.y]&&(r=!1);t.findPath()}t.setState({gridFull:e,generation:t.state.generation+1})}},t.speed=60,t.rows=30,t.cols=30,t.direction=2,t.algorithm="dijkstra",t.snake=[{x:15,y:15}],t.apple={x:Math.floor(Math.random()*Math.floor(t.cols)),y:Math.floor(Math.random()*Math.floor(t.rows))},t.state={list:[],error:null,generation:0,gridFull:Array(t.rows).fill().map((function(){return Array(t.cols).fill(0)}))},t.findPath(),t}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("h1",null,window.flask_title),r.a.createElement("h2",null,window.flask_description),r.a.createElement("div",{className:"center my-4"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.playButton()}},"Play"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.pauseButton()}},"Stop"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.clearButton()}},"Clear"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.dijkstraButton()}},"Dijkstra"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.aStarButton()}},"A*"))),r.a.createElement(h,{gridFull:this.state.gridFull,rows:this.rows,cols:this.cols,selectBox:this.selectBox}),r.a.createElement("h2",{className:"center my-4"},"Score ",this.snake.length))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,a){t.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.fd76985e.chunk.js.map