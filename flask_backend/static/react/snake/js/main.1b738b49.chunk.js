(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),s=(a(14),a(1)),i=a(2),c=a(4),u=a(3),p=a(5),h=(a(15),a(16),a(6)),d=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return h.isMobile?r.a.createElement("div",{className:"description"},window.flask_description):r.a.createElement("h2",null,window.flask_description)}}]),e}(r.a.Component),f=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).selectBox=function(){a.props.selectBox(a.props.row,a.props.col)},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.boxClass,id:this.props.id,onClick:this.selectBox})}}]),e}(r.a.Component),m=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){for(var t=14*this.props.cols,e=[],a="",n=0;n<this.props.rows;n++)for(var o=0;o<this.props.cols;o++){var l=n+"_"+o;a=1==this.props.gridFull[n][o]?"box snake":2==this.props.gridFull[n][o]?"box apple":"box off",e.push(r.a.createElement(f,{boxClass:a,key:l,boxId:l,row:n,col:o,selectBox:this.props.selectBox}))}return r.a.createElement("div",{className:"grid",style:{width:t}},e)}}]),e}(r.a.Component);function y(t){return JSON.parse(JSON.stringify(t))}var b=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(c.a)(this,Object(u.a)(e).call(this))).buildList=function(e){t.state.list=[],t.setState({list:e.path,error:e.result}),"success"==t.state.error?(t.direction=t.state.list[t.state.list.length-1],t.state.list.pop()):null!=t.state.error&&(console.log(t.state.error),console.log(t.apple),t.setState({win:"Lost! Try again by Clearing the board !"}),console.log(t.state.win))},t.findPath=function(){t.direction=-1;var e={snake:t.snake,apple:t.apple,algorithm:t.algorithm,rows:t.rows,cols:t.cols};fetch("/update/",{method:"POST",body:JSON.stringify(e)}).then((function(t){return t.json()})).then(t.buildList).catch()},t.selectBox=function(e,a){var n=y(t.state.gridFull);n[e][a]=!n[e][a],t.setState({gridFull:n})},t.playButton=function(){clearInterval(t.intervalId),t.intervalId=setInterval(t.play,t.speed)},t.pauseButton=function(){clearInterval(t.intervalId)},t.clearButton=function(){var e=Array(t.rows).fill().map((function(){return Array(t.cols).fill(0)}));t.setState({gridFull:e,generation:0,win:"Snake is playing",list:[],error:null}),t.snake=[{x:Math.floor(t.rows/2),y:Math.floor(t.cols/2)}],t.apple={x:Math.floor(Math.random()*Math.floor(t.cols)),y:Math.floor(Math.random()*Math.floor(t.rows))},t.direction=-1,t.findPath()},t.dijkstraButton=function(){t.algorithm="dijkstra"},t.aStarButton=function(){t.algorithm="a_star"},t.play=function(){if("success"==t.state.error&&t.direction>=0){t.state.gridFull;var e=y(t.state.gridFull);e[t.apple.x][t.apple.y]=2;var a=t.snake[t.snake.length-1];if(e[a.x][a.y]=1,3==t.direction&&(t.newHead_y=a.y-1,t.newHead_x=a.x),2==t.direction&&(t.newHead_y=a.y+1,t.newHead_x=a.x),1==t.direction&&(t.newHead_x=a.x+1,t.newHead_y=a.y),0==t.direction&&(t.newHead_x=a.x-1,t.newHead_y=a.y),e[t.newHead_x][t.newHead_y]=1,t.snake.push({x:t.newHead_x,y:t.newHead_y}),t.newHead_x!=t.apple.x||t.newHead_y!=t.apple.y){var n=t.snake[0];e[n.x][n.y]=0,t.snake.shift(),t.direction=t.state.list[t.state.list.length-1],1!=t.state.list.length&&t.state.list.pop()}else{for(var r=!0;r;){var o=Math.floor(Math.random()*Math.floor(t.cols)),l=Math.floor(Math.random()*Math.floor(t.rows));0==e[o][l]&&(r=!1,t.apple.x=o,t.apple.y=l)}t.findPath()}t.setState({gridFull:e,generation:t.state.generation+1})}},h.isMobile?(t.cols=15,t.rows=15):(t.cols=30,t.rows=30),t.speed=60,t.direction=-1,t.algorithm="dijkstra",t.snake=[{x:Math.floor(t.rows/2),y:Math.floor(t.cols/2)}],t.apple={x:Math.floor(Math.random()*Math.floor(t.cols)),y:Math.floor(Math.random()*Math.floor(t.rows))},t.state={list:[],error:null,win:"Snake is playing",generation:0,gridFull:Array(t.rows).fill().map((function(){return Array(t.cols).fill(0)}))},t.findPath(),t}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("h1",null,window.flask_title),r.a.createElement(d,null),r.a.createElement("div",{className:"center my-4"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.playButton()}},"Play"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.pauseButton()}},"Stop"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.clearButton()}},"Clear"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.dijkstraButton()}},"Dijkstra"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.aStarButton()}},"A*"))),r.a.createElement(m,{gridFull:this.state.gridFull,rows:this.rows,cols:this.cols,selectBox:this.selectBox}),r.a.createElement("h2",{className:"center my-4"},this.state.win),r.a.createElement("h2",{className:"center my-4"},"Score ",this.snake.length))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},9:function(t,e,a){t.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.1b738b49.chunk.js.map